## 基于 [[索引节点]] 的共享方式（硬链接）

多个用户指向同一个共享文件的**索引节点**，索引节点中有一个**引用计数器**。某用户提出删除文件时，计数器减 1，删除用户自己的目录中的相应目录项。当计数器为 0 时才真正删除该文件。

>**建立硬链接时，引用计数值+1。**

![](https://img.mileomni.com/1731255653938.png)

## 利用符号链实现文件共享（软链接）

创建一个符号链接类型的**文件**，文件的内容是共享文件的**路径名**。只有**文件主**才拥有指向其索引节点的指针。其他共享文件的用户只有该文件的**路径名**。

> **建立符号链接时，源文件的引用计数值不变，而 Link 文件的 count 值为 1。** 删除源文件时，删除操作对符号链接是不可见的。

![](https://img.mileomni.com/1731242884379.png)
