---
tags:
  - computerscience
subject: "[[æ•°æ®ç»“æ„]]"
category: "[[ğŸ“–Notes]]"
chapter: Ch10 ä»£ç é¢˜
aliases:
---
æ‰¾å‡ºæ•°ç»„ä¸­ä¸ªæ•°è¶…è¿‡æ•°ç»„é•¿åº¦ä¸€åŠçš„æ•°ï¼ˆä¸»å…ƒç´ ï¼‰

```cpp
int partion(int A[],int low,int high){
 int pivot=A[low];
 while(low<high){
  while(low<high && A[high]>=pivot) high--;
  A[low]=A[high];
  while(low<high && A[low]<=pivot) low++;
  A[high]=A[low];
 }
 A[low]=pivot;
 return low;
}

void q_sort(int A[],int low,int high){
 while(low<high){
  int pivot=partion(A,low,high);
  q_sort(A,low,pivot-1);
  q_sort(A,pivot+1,high);
 }
}

int fing_main_element(int A[],int n){
 int sorted_A[]=q_sort(A,0,n-1);
 int count=1;
 int current=A[0];
 for(int i=1;i<n;i++){//éå†æ•°ç»„
  if(A[i]==current){//å¦‚æœå½“å‰å…ƒç´ å’Œä¸Šä¸€å…ƒç´ ç›¸åŒ
   count++;//åˆ™è®¡æ•°+1
  }else{
   current=A[i];//å¦åˆ™ä»è¯¥ä½ç½®å¼€å§‹é‡æ–°è®¡æ•°
   count=1;
  }
  if(count>n/2){
   return current;
  }
 }
 return -1;
}

```
