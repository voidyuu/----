---
tags:
  - computerscience
chapter: Ch3 数据链路层
subject: "[[计算机网络]]"
category: "[[📖Notes]]"
aliases:
---

交换机实质上是一个多接口的**网桥**，能将网络分成小的冲突域，为每个用户提供更大的带宽。

### 交换模式

- 存储转发：全部整个帧后再检查目的地址，再整个转发
- 直通交换：只收下 6 B 大小的目的 MAC 地址后，查找交换表，获取输出结构后，**硬件上直通输入和输出，将整个数据帧直通输出接口，不需要转发**

### 交换机的特点

1. 当交换机接口**直接与主机或其他交换机**连接时，可工作在**全双工方式**
2. 当交换机接口连接[[物理层设备#集线器 Hub|集线器]]时，只能使用 CSMA/CD 协议并工作在**半双工方式**
3. 交换机是一种即插即用设备，内部的帧转发表会通过自学习算法，基于网络中各主机间的通信，自动地逐渐建立的
4. 交换机使用专用交换结构芯片，交换速率较高
5. 交换机**独占**传输介质的带宽

>一个 24 个 10 Mb/s 接口的交换机（**默认是全双工**）总容量为 240 Mb/s，如果是半双工模式，则总容量是 120 Mb/s。

### 自学习过程

![](https://img.mileomni.com/1731243047208.png)

若表中没有关于 B 的记录项：

A 向 B 发送一帧后，交换机先记录 A 的接口 1，然后发现表中查找不到 B 的接口，于是开始泛洪发送广播帧，B 接收到后收到该帧，其他主机收到后均丢弃该帧。当帧从接口 4 到接口 2 时，到达另一台交换机，于是该交换机认为 A 主机的接口为 2，所以更新自己的帧交换表。

若表中已有关于 B 的记录项：

A 向 B 发送一帧后，查找到 B 的接口为 2，于是不需要广播，直接发往接口 2.

### 共享式以太网（[[物理层设备#集线器 Hub|集线器]]）和交换式以太网（交换机）的区别

|                   | 交换机                 | [[物理层设备#集线器 Hub\|集线器]] |
| ----------------- | ------------------- | ---------------------- |
| 主机发送普通帧时          | 查找交换表，有目的的转发给对应接口   | 将帧转发到其他所有接口            |
| 主机发送广播帧（**广播域**）  | 从其他所有接口转发该帧（不隔绝广播域） | 从其他所有接口转发该帧（不隔绝广播域）    |
| 多对主机同时通信（**冲突域**） | 可以隔绝冲突域             | 不能隔绝冲突域                |
| 接口的平均带宽           | 独享全部带宽              | 所有接口均分总带宽              |
