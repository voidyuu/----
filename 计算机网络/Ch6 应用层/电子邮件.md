---
tags:
  - computerscience
chapter: Ch6 应用层
subject: "[[计算机网络]]"
category: "[[📖Notes]]"
aliases:
---
## 电子邮件系统的组成结构

- 用户代理 UA：即电子邮件客户端软件，如 Outlook、Foxmail 等
- 邮件服务器：以 C/S 模式工作，但是需要能够同时充当客户和服务器，在服务器发送邮件时作为客户端，接收的服务器作为服务端
- 邮件发送协议：如SMTP
- 邮件读取协议：如POP3 和 IMAP

## 电子邮件格式与 MIME

### 电子邮件格式

- 信封
- 内容：
  - 首部：
    - To
    - From
    - Subject
  - 主体

### 多用途因特网邮件扩展 MIME

SMTP 只能传送 7 位 ASCII 码文本邮件，MIME 将非 ASCII 码数据转换为 ASCII 码数据，然后接收端也是用 MINE 进行逆转换，得到原始数据。**MINE 可对任何格式进行转换。**

## SMTP

SMTP 控制两个相互通信的 SMTP 进程交换信息

SMTP 使用 [TCP](https://www.cassiel.cc/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/Ch5-%E4%BC%A0%E8%BE%93%E5%B1%82/TCP) 连接，使用 25 端口。

SMTP 通信阶段：

1. 连接建立
2. 邮件传送
3. 连接释放

## POP3

POP3 也采用客户/服务器模式，使用 110 端口

POP3 有两种工作方式：“下载并保留”和“下载并删除”，分别表示读取邮件后，是否需要在服务器上保留邮件。

POP3 一个账号在服务器上只能有一个邮件接收目录

## IMAP

因特网报文存取协议IMAP 比 POP3 复杂得多，提供了创建文件夹、在不同文件夹之间移动邮件及在远程文件夹中查询邮件等联机命令。

IMAP 还允许用户代理 UA 只获取报文的一部分，例如只读取一个报文的首部，适用于低带宽的情况。

## 现代邮件

除了经典的电子邮件协议之外，Gmail 等还使用基于 [[超文本传输协议 HTTP|HTTP]] 的邮件发送和接收。仅在不同邮件服务器之间传送邮件才使用 SMTP。
